<!doctype html>
<html lang="en" data-bs-theme="auto">
<head>
<meta charset="utf-8">
<title>Edit Step - Curator</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
<style>
  .card {
    border: 0;
  }
</style>
</head>
<body class="container py-4">
  <div class="d-flex align-items-center border-bottom pb-2 mb-4">
    <div class="d-flex align-items-center flex-grow-1">
      <a href="#" id="backButton" class="btn btn-outline-secondary btn-sm me-3">
        <i class="bi bi-arrow-left"></i> Back
      </a>
      <h1 class="h3 mb-0">Edit Step</h1>
    </div>
    <div class="d-flex gap-3 align-items-center">
      <button id="theme-toggle" class="btn btn-sm btn-outline-secondary" title="Toggle Dark Mode">
        <i class="bi bi-moon-stars-fill"></i>
      </button>
      <a href="https://github.com/PSA-Corporate-Learning-Branch/curator-extension" target="_blank" class="text-decoration-none text-muted small">
        <i class="bi bi-question-circle"></i> Help
      </a>
    </div>
  </div>

  <div class="card shadow-sm mb-4">
    <div class="card-header bg-body-tertiary">
      <div class="d-flex align-items-center">
        <i class="bi bi-list-check me-2"></i>
        <h2 class="h5 mb-0">Step Information</h2>
      </div>
    </div>
    <div class="card-body">
      <form id="stepForm">
        <div class="mb-3">
          <label for="stepName" class="form-label">Step Name</label>
          <input type="text" class="form-control" id="stepName" required>
        </div>
        <div class="mb-3">
          <label for="stepObjective" class="form-label">Objective (supports Markdown)</label>
          <textarea class="form-control" id="stepObjective" rows="5"></textarea>
        </div>
        <div class="mb-3">
          <label for="pauseAndReflect" class="form-label">Pause and Reflect (supports Markdown)</label>
          <textarea class="form-control" id="pauseAndReflect" rows="5" placeholder="Add reflection questions or prompts for learners to consider after completing this step..."></textarea>
          <div class="form-text">This will appear at the bottom of the step, after all resources. Use this to encourage learners to pause and think about what they've learned.</div>
        </div>
        <div class="text-end">
          <button type="submit" class="btn btn-primary">Save Step</button>
          <a href="#" id="cancelButton" class="btn btn-outline-secondary ms-2">Cancel</a>
        </div>
      </form>
    </div>
  </div>

  <script src="bootstrap.bundle.min.js"></script>
  <script src="chrome-polyfill-sync.js"></script>
  <script type="module" src="chrome-storage-ready.js"></script>
  <script type="module" src="edit-step.js"></script>
</body>
</html>